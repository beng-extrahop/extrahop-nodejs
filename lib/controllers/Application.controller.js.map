{"version":3,"sources":["../../src/controllers/Application.controller.js"],"names":["BaseCtrl","require","Application","ApplicationSet","ApplicationActivity","AlertSet","DashboardSet","module","exports","application","getApplication","getApplications","getApplicationActivity","getApplicationAlerts","getApplicationDashboards","data","postApplication","patchApplication","params","process","appliance","id","assign","unassign","postApplicationAlerts","alert","postApplicationAlert","deleteApplicationAlert"],"mappings":";;;;;;;;;;;;AAAA;;AAEA,IAAMA,WAAWC,QAAQ,0CAAR,CAAjB;AACA,IAAMC,cAAcD,QAAQ,yCAAR,CAApB;AACA,IAAME,iBAAiBF,QAAQ,4CAAR,CAAvB;AACA,IAAMG,sBAAsBH,QAAQ,iDAAR,CAA5B;AACA,IAAMI,WAAWJ,QAAQ,gCAAR,CAAjB;AACA,IAAMK,eAAeL,QAAQ,wCAAR,CAArB;;AAEAM,OAAOC,OAAP;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;;AAEE;AACA;AACA;;AAJF,wBAMMC,WANN,EAMmB;AACf,aAAOA,cAAc,IAAIP,WAAJ,CAAgB,KAAKQ,cAAL,CAAoBD,WAApB,CAAhB,CAAd,sCAAsEN,cAAtE,mCAAwF,KAAKQ,eAAL,EAAxF,MAAP;AACD;AARH;AAAA;AAAA,gCAUcF,WAVd,EAU2B;AACvB,aAAO,IAAIL,mBAAJ,CAAwB,KAAKQ,sBAAL,CAA4BH,WAA5B,CAAxB,CAAP;AACD;AAZH;AAAA;AAAA,8BAcYA,WAdZ,EAcyB;AACrB,gDAAWJ,QAAX,mCAAuB,KAAKQ,oBAAL,CAA0BJ,WAA1B,CAAvB;AACD;AAhBH;AAAA;AAAA,kCAkBgBA,WAlBhB,EAkB6B;AACzB,gDAAWH,YAAX,mCAA2B,KAAKQ,wBAAL,CAA8BL,WAA9B,CAA3B;AACD;AApBH;AAAA;AAAA,2BAsBSM,IAtBT,EAsBe;AACX,aAAO,KAAKC,eAAL,CAAqB,IAAId,WAAJ,CAAgBa,IAAhB,CAArB,CAAP;AACD;AAxBH;AAAA;AAAA,2BA0BSN,WA1BT,EA0BsBM,IA1BtB,EA0B4B;AACxB,aAAO,KAAKE,gBAAL,CAAsBR,WAAtB,EAAmCM,IAAnC,CAAP;AACD;;AAED;AACA;AACA;;AAhCF;AAAA;AAAA,sCAkC+B;AAAA,UAAbG,MAAa,uEAAJ,EAAI;;AAC3B,aAAO,KAAKC,OAAL,CAAa,KAAKC,SAAL,CAAeT,eAAf,CAA+BO,MAA/B,CAAb,EAAqD,cAArD,CAAP;AACD;AApCH;AAAA;AAAA,mCAsCiBT,WAtCjB,EAsC8B;AAC1B,aAAO,KAAKU,OAAL,CAAa,KAAKC,SAAL,CAAeV,cAAf,CAA8BD,YAAYY,EAA1C,CAAb,EAA4D,aAA5D,CAAP;AACD;AAxCH;AAAA;AAAA,oCA0CkBZ,WA1ClB,EA0C+B;AAC3B,aAAO,KAAKU,OAAL,CAAa,KAAKC,SAAL,CAAeJ,eAAf,CAA+BP,WAA/B,CAAb,EAA0D,aAA1D,CAAP;AACD;AA5CH;AAAA;AAAA,qCA8CmBA,WA9CnB,EA8CgCM,IA9ChC,EA8CsC;AAClC,aAAO,KAAKI,OAAL,CAAa,KAAKC,SAAL,CAAeH,gBAAf,CAAgCR,YAAYY,EAA5C,EAAgDN,IAAhD,CAAb,EAAoE,aAApE,CAAP;AACD;;AAED;AACA;AACA;;AApDF;AAAA;AAAA,2CAsDyBN,WAtDzB,EAsDsC;AAClC,aAAO,KAAKU,OAAL,CAAa,KAAKC,SAAL,CAAeR,sBAAf,CAAsCH,YAAYY,EAAlD,CAAb,EAAoE,sBAApE,CAAP;AACD;;AAED;AACA;AACA;;AA5DF;AAAA;AAAA,yCA8DuBZ,WA9DvB,EA8DoC;AAChC,aAAO,KAAKU,OAAL,CAAa,KAAKC,SAAL,CAAeP,oBAAf,CAAoCJ,YAAYY,EAAhD,CAAb,EAAkE,oBAAlE,CAAP;AACD;AAhEH;AAAA;AAAA,0CAkEwBZ,WAlExB,EAkEiE;AAAA,UAA5Ba,MAA4B,uEAAnB,EAAmB;AAAA,UAAfC,QAAe,uEAAJ,EAAI;;AAC7D,aAAO,KAAKJ,OAAL,CAAa,KAAKC,SAAL,CAAeI,qBAAf,CAAqCf,YAAYY,EAAjD,EAAqD,EAAEC,cAAF,EAAUC,kBAAV,EAArD,CAAb,EAAyF,oBAAzF,CAAP;AACD;AApEH;AAAA;AAAA,yCAsEuBd,WAtEvB,EAsEoCgB,KAtEpC,EAsE2C;AACvC,aAAO,KAAKN,OAAL,CAAa,KAAKC,SAAL,CAAeM,oBAAf,CAAoCjB,YAAYY,EAAhD,EAAoDI,MAAMJ,EAA1D,CAAb,EAA4E,mBAA5E,CAAP;AACD;AAxEH;AAAA;AAAA,2CA0EyBZ,WA1EzB,EA0EsCgB,KA1EtC,EA0E6C;AACzC,aAAO,KAAKN,OAAL,CAAa,KAAKC,SAAL,CAAeO,sBAAf,CAAsClB,YAAYY,EAAlD,EAAsDI,MAAMJ,EAA5D,CAAb,EAA8E,mBAA9E,CAAP;AACD;;AAED;AACA;AACA;;AAhFF;AAAA;AAAA,6CAkF2BZ,WAlF3B,EAkFwC;AACpC,aAAO,KAAKU,OAAL,CAAa,KAAKC,SAAL,CAAeN,wBAAf,CAAwCL,YAAYY,EAApD,CAAb,EAAsE,wBAAtE,CAAP;AACD;AApFH;;AAAA;AAAA,EAA+CrB,QAA/C","file":"Application.controller.js","sourcesContent":["// Application.controller.js\n\nconst BaseCtrl = require('../controllers/_base/BaseCtrl.controller');\nconst Application = require('../models/application/Application.model');\nconst ApplicationSet = require('../models/application/ApplicationSet.model');\nconst ApplicationActivity = require('../models/application/ApplicationActivity.model');\nconst AlertSet = require('../models/alert/AlertSet.model');\nconst DashboardSet = require('../models/dashboard/DashboardSet.model');\n\nmodule.exports = class ApplicationCtrl extends BaseCtrl {\n\n  // -------------------------------------\n  // Defaults\n  // -------------------------------------\n\n  get(application) {\n    return application ? new Application(this.getApplication(application)) : new ApplicationSet(...this.getApplications());\n  }\n\n  getActivity(application) {\n    return new ApplicationActivity(this.getApplicationActivity(application));\n  }\n\n  getAlerts(application) {\n    return new AlertSet(...this.getApplicationAlerts(application));\n  }\n\n  getDashboards(application) {\n    return new DashboardSet(...this.getApplicationDashboards(application));\n  }\n\n  create(data) {\n    return this.postApplication(new Application(data));\n  }\n\n  update(application, data) {\n    return this.patchApplication(application, data);\n  }\n\n  // -------------------------------------\n  // Base Functions\n  // -------------------------------------\n\n  getApplications(params = {}) {\n    return this.process(this.appliance.getApplications(params), 'applications');\n  }\n\n  getApplication(application) {\n    return this.process(this.appliance.getApplication(application.id), 'application');\n  }\n\n  postApplication(application) {\n    return this.process(this.appliance.postApplication(application), 'application');\n  }\n\n  patchApplication(application, data) {\n    return this.process(this.appliance.patchApplication(application.id, data), 'application');\n  }\n\n  // -------------------------------------\n  // Activity Functions\n  // -------------------------------------\n\n  getApplicationActivity(application) {\n    return this.process(this.appliance.getApplicationActivity(application.id), 'application activity');\n  }\n\n  // -------------------------------------\n  // Alert Functions\n  // -------------------------------------\n\n  getApplicationAlerts(application) {\n    return this.process(this.appliance.getApplicationAlerts(application.id), 'application alerts');\n  }\n\n  postApplicationAlerts(application, assign = [], unassign = []) {\n    return this.process(this.appliance.postApplicationAlerts(application.id, { assign, unassign }), 'application alerts');\n  }\n\n  postApplicationAlert(application, alert) {\n    return this.process(this.appliance.postApplicationAlert(application.id, alert.id), 'application alert');\n  }\n\n  deleteApplicationAlert(application, alert) {\n    return this.process(this.appliance.deleteApplicationAlert(application.id, alert.id), 'application alert');\n  }\n\n  // -------------------------------------\n  // Dashboard Functions\n  // -------------------------------------\n\n  getApplicationDashboards(application) {\n    return this.process(this.appliance.getApplicationDashboards(application.id), 'application dashboards');\n  }\n};\n"]}