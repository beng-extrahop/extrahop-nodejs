{"version":3,"sources":["../../src/controllers/Bundle.controller.js"],"names":["BaseCtrl","require","Bundle","BundleSet","module","exports","bundle","getBundle","getBundles","data","postBundle","build","patchBundle","deleteBundle","postBundleApply","process","appliance","id"],"mappings":";;;;;;;;;;;;AAAA;;AAEA,IAAMA,WAAWC,QAAQ,0CAAR,CAAjB;AACA,IAAMC,SAASD,QAAQ,+BAAR,CAAf;AACA,IAAME,YAAYF,QAAQ,kCAAR,CAAlB;;AAEAG,OAAOC,OAAP;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;;AAEE;AACA;AACA;;AAJF,wBAMMC,MANN,EAMc;AACV,aAAOA,SAAS,IAAIJ,MAAJ,CAAW,KAAKK,SAAL,CAAeD,MAAf,CAAX,CAAT,sCAAkDH,SAAlD,mCAA+D,KAAKK,UAAL,EAA/D,MAAP;AACD;AARH;AAAA;AAAA,2BAUSC,IAVT,EAUe;AACX,aAAO,KAAKC,UAAL,CAAgB,KAAKC,KAAL,CAAWF,IAAX,CAAhB,CAAP;AACD;AAZH;AAAA;AAAA,2BAcSH,MAdT,EAciBG,IAdjB,EAcuB;AACnB,aAAO,KAAKG,WAAL,CAAiBN,MAAjB,EAAyBG,IAAzB,CAAP;AACD;AAhBH;AAAA;AAAA,4BAkBSH,MAlBT,EAkBiB;AACb,aAAO,KAAKO,YAAL,CAAkBP,MAAlB,CAAP;AACD;AApBH;AAAA;AAAA,0BAsBQA,MAtBR,EAsBgB;AACZ,aAAO,KAAKQ,eAAL,CAAqBR,MAArB,CAAP;AACD;;AAED;AACA;AACA;;AA5BF;AAAA;AAAA,iCA8Be;AACX,aAAO,KAAKS,OAAL,CAAa,KAAKC,SAAL,CAAeR,UAAf,EAAb,EAA0C,SAA1C,CAAP;AACD;AAhCH;AAAA;AAAA,8BAkCYF,MAlCZ,EAkCoB;AAChB,aAAO,KAAKS,OAAL,CAAa,KAAKC,SAAL,CAAeT,SAAf,CAAyBD,OAAOW,EAAhC,CAAb,EAAkD,QAAlD,CAAP;AACD;AApCH;AAAA;AAAA,+BAsCaX,MAtCb,EAsCqB;AACjB,aAAO,KAAKS,OAAL,CAAa,KAAKC,SAAL,CAAeN,UAAf,CAA0BJ,MAA1B,CAAb,EAAgD,QAAhD,CAAP;AACD;AAxCH;AAAA;AAAA,iCA0CeW,EA1Cf,EA0CmB;AACf,aAAO,KAAKF,OAAL,CAAa,KAAKC,SAAL,CAAeH,YAAf,CAA4BI,EAA5B,CAAb,EAA8C,QAA9C,CAAP;AACD;;AAED;AACA;AACA;;AAhDF;AAAA;AAAA,oCAkDkBX,MAlDlB,EAkD0B;AACtB,aAAO,KAAKS,OAAL,CAAa,KAAKC,SAAL,CAAeF,eAAf,CAA+BR,OAAOW,EAAtC,CAAb,EAAwD,cAAxD,CAAP;AACD;AApDH;;AAAA;AAAA,EAA0CjB,QAA1C","file":"Bundle.controller.js","sourcesContent":["// Bundle.controller.js\n\nconst BaseCtrl = require('../controllers/_base/BaseCtrl.controller');\nconst Bundle = require('../models/bundle/Bundle.model');\nconst BundleSet = require('../models/bundle/BundleSet.model');\n\nmodule.exports = class BundleCtrl extends BaseCtrl {\n\n  // -------------------------------------\n  // Defaults\n  // -------------------------------------\n\n  get(bundle) {\n    return bundle ? new Bundle(this.getBundle(bundle)) : new BundleSet(...this.getBundles());\n  }\n\n  create(data) {\n    return this.postBundle(this.build(data));\n  }\n\n  update(bundle, data) {\n    return this.patchBundle(bundle, data);\n  }\n\n  delete(bundle) {\n    return this.deleteBundle(bundle);\n  }\n\n  apply(bundle) {\n    return this.postBundleApply(bundle);\n  }\n\n  // -------------------------------------\n  // Base Functions\n  // -------------------------------------\n\n  getBundles() {\n    return this.process(this.appliance.getBundles(), 'bundles');\n  }\n\n  getBundle(bundle) {\n    return this.process(this.appliance.getBundle(bundle.id), 'bundle');\n  }\n\n  postBundle(bundle) {\n    return this.process(this.appliance.postBundle(bundle), 'bundle');\n  }\n\n  deleteBundle(id) {\n    return this.process(this.appliance.deleteBundle(id), 'bundle');\n  }\n\n  // -------------------------------------\n  // Apply Functions\n  // -------------------------------------\n\n  postBundleApply(bundle) {\n    return this.process(this.appliance.postBundleApply(bundle.id), 'bundle apply');\n  }\n};\n"]}