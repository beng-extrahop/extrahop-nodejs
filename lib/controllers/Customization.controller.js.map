{"version":3,"sources":["../../src/controllers/Customization.controller.js"],"names":["BaseCtrl","require","Customization","CustomizationSet","CustomizationStatus","module","exports","customization","getCustomization","getCustomizations","getCustomizationStatus","deleteCustomization","name","postCustomization","postCustomizationApply","postCustomizationDownload","process","appliance","id"],"mappings":";;;;;;;;;;;;AAAA;;AAEA,IAAMA,WAAWC,QAAQ,0CAAR,CAAjB;AACA,IAAMC,gBAAgBD,QAAQ,6CAAR,CAAtB;AACA,IAAME,mBAAmBF,QAAQ,gDAAR,CAAzB;AACA,IAAMG,sBAAsBH,QAAQ,mDAAR,CAA5B;;AAEAI,OAAOC,OAAP;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;;AAEE;AACA;AACA;;AAJF,wBAMMC,aANN,EAMqB;AACjB,aAAOA,gBACH,IAAIL,aAAJ,CAAkB,KAAKM,gBAAL,CAAsBD,aAAtB,CAAlB,CADG,sCAECJ,gBAFD,mCAEqB,KAAKM,iBAAL,EAFrB,MAAP;AAGD;AAVH;AAAA;AAAA,gCAYc;AACV,aAAO,IAAIL,mBAAJ,CAAwB,KAAKM,sBAAL,EAAxB,CAAP;AACD;AAdH;AAAA;AAAA,4BAgBSH,aAhBT,EAgBwB;AACpB,aAAO,KAAKI,mBAAL,CAAyBJ,aAAzB,CAAP;AACD;AAlBH;AAAA;AAAA,2BAoBSK,IApBT,EAoBe;AACX,aAAO,KAAKC,iBAAL,CAAuBD,IAAvB,CAAP;AACD;AAtBH;AAAA;AAAA,4BAwBUL,aAxBV,EAwByB;AACrB,aAAO,KAAKO,sBAAL,CAA4BP,aAA5B,CAAP;AACD;AA1BH;AAAA;AAAA,yBA4BOA,aA5BP,EA4BsB;AAClB,aAAO,KAAKQ,yBAAL,CAA+BR,aAA/B,CAAP;AACD;;AAED;AACA;AACA;;AAlCF;AAAA;AAAA,wCAoCsB;AAClB,aAAO,KAAKS,OAAL,CAAa,KAAKC,SAAL,CAAeR,iBAAf,EAAb,EAAiD,gBAAjD,CAAP;AACD;AAtCH;AAAA;AAAA,qCAwCmBF,aAxCnB,EAwCkC;AAC9B,aAAO,KAAKS,OAAL,CAAa,KAAKC,SAAL,CAAeT,gBAAf,CAAgCD,cAAcW,EAA9C,CAAb,EAAgE,eAAhE,CAAP;AACD;AA1CH;AAAA;AAAA,sCA4CoBN,IA5CpB,EA4C0B;AACtB,aAAO,KAAKI,OAAL,CAAa,KAAKC,SAAL,CAAeJ,iBAAf,CAAiC,EAAED,UAAF,EAAjC,CAAb,EAAyD,eAAzD,CAAP;AACD;AA9CH;AAAA;AAAA,wCAgDsBL,aAhDtB,EAgDqC;AACjC,aAAO,KAAKS,OAAL,CAAa,KAAKC,SAAL,CAAeN,mBAAf,CAAmCJ,cAAcW,EAAjD,CAAb,EAAmE,eAAnE,CAAP;AACD;;AAED;AACA;AACA;;AAtDF;AAAA;AAAA,6CAwD2B;AACvB,aAAO,KAAKF,OAAL,CAAa,KAAKC,SAAL,CAAeP,sBAAf,EAAb,EAAsD,sBAAtD,CAAP;AACD;;AAED;AACA;AACA;;AA9DF;AAAA;AAAA,2CAgEyBH,aAhEzB,EAgEwC;AACpC,aAAO,KAAKS,OAAL,CAAa,KAAKC,SAAL,CAAeH,sBAAf,CAAsCP,cAAcW,EAApD,CAAb,EAAsE,qBAAtE,CAAP;AACD;;AAED;AACA;AACA;;AAtEF;AAAA;AAAA,8CAwE4BX,aAxE5B,EAwE2C;AACvC,aAAO,KAAKS,OAAL,CAAa,KAAKC,SAAL,CAAeF,yBAAf,CAAyCR,cAAcW,EAAvD,CAAb,EAAyE,wBAAzE,CAAP;AACD;AA1EH;;AAAA;AAAA,EAAiDlB,QAAjD","file":"Customization.controller.js","sourcesContent":["// Customization.controller.js\n\nconst BaseCtrl = require('../controllers/_base/BaseCtrl.controller');\nconst Customization = require('../models/customization/Customization.model');\nconst CustomizationSet = require('../models/customization/CustomizationSet.model');\nconst CustomizationStatus = require('../models/customization/CustomizationStatus.model');\n\nmodule.exports = class CustomizationCtrl extends BaseCtrl {\n\n  // -------------------------------------\n  // Defaults\n  // -------------------------------------\n\n  get(customization) {\n    return customization\n      ? new Customization(this.getCustomization(customization))\n      : new CustomizationSet(...this.getCustomizations());\n  }\n\n  getStatus() {\n    return new CustomizationStatus(this.getCustomizationStatus());\n  }\n\n  delete(customization) {\n    return this.deleteCustomization(customization);\n  }\n\n  backup(name) {\n    return this.postCustomization(name);\n  }\n\n  restore(customization) {\n    return this.postCustomizationApply(customization);\n  }\n\n  save(customization) {\n    return this.postCustomizationDownload(customization);\n  }\n\n  // -------------------------------------\n  // Base Functions\n  // -------------------------------------\n\n  getCustomizations() {\n    return this.process(this.appliance.getCustomizations(), 'customizations');\n  }\n\n  getCustomization(customization) {\n    return this.process(this.appliance.getCustomization(customization.id), 'customization');\n  }\n\n  postCustomization(name) {\n    return this.process(this.appliance.postCustomization({ name }), 'customization');\n  }\n\n  deleteCustomization(customization) {\n    return this.process(this.appliance.deleteCustomization(customization.id), 'customization');\n  }\n\n  // -------------------------------------\n  // Status Functions\n  // -------------------------------------\n\n  getCustomizationStatus() {\n    return this.process(this.appliance.getCustomizationStatus(), 'customization status');\n  }\n\n  // -------------------------------------\n  // Apply Functions\n  // -------------------------------------\n\n  postCustomizationApply(customization) {\n    return this.process(this.appliance.postCustomizationApply(customization.id), 'customization apply');\n  }\n\n  // -------------------------------------\n  // Download Functions\n  // -------------------------------------\n\n  postCustomizationDownload(customization) {\n    return this.process(this.appliance.postCustomizationDownload(customization.id), 'customization download');\n  }\n};\n"]}