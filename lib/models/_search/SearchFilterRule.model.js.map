{"version":3,"sources":["../../../src/models/_search/SearchFilterRule.model.js"],"names":["module","exports","rule","Array","field","operator","value","operand","includes","is_regex","useAsOperand"],"mappings":";;;;;;AAAA;;AAEAA,OAAOC,OAAP,GACE,0BAAYC,IAAZ,EAAkB;AAAA;;AAChB,MAAKA,gBAAgBC,KAArB,EAA6B;AAAA,+BACaD,IADb;AAAA,QACnBE,KADmB;AAAA,QACZC,QADY;AAAA;AAAA,QACFC,KADE,0BACM,EADN;;AAG3B,SAAKF,KAAL,GAAaA,KAAb;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKE,OAAL,GAAeD,MAAME,QAAN,CAAe,GAAf,IAAsB,EAAEC,UAAU,IAAZ,EAAkBH,YAAlB,EAAtB,GAAkDA,KAAjE;AACD,GAND,MAOK;AAAA,QACKF,MADL,GACyCF,IADzC,CACKE,KADL;AAAA,QACYC,SADZ,GACyCH,IADzC,CACYG,QADZ;AAAA,QACsBE,OADtB,GACyCL,IADzC,CACsBK,OADtB;AAAA,QAC+BD,MAD/B,GACyCJ,IADzC,CAC+BI,KAD/B;;AAEH,QAAMI,eAAeJ,UAASC,OAAT,IAAoB,EAAzC;;AAEA,SAAKH,KAAL,GAAaA,MAAb;AACA,SAAKC,QAAL,GAAgBA,SAAhB;AACA,SAAKE,OAAL,GAAeF,UAASG,QAAT,CAAkB,GAAlB,IAAyB,EAAEC,UAAU,IAAZ,EAAkBH,OAAOI,YAAzB,EAAzB,GAAmEA,YAAlF;AACD;AACF,CAjBH","file":"SearchFilterRule.model.js","sourcesContent":["// SearchFilterRule.model.js\n\nmodule.exports = class SearchFilterRule {\n  constructor(rule) {\n    if ( rule instanceof Array ) {\n      const [ field, operator, value = '' ] = rule;\n\n      this.field = field;\n      this.operator = operator;\n      this.operand = value.includes('~') ? { is_regex: true, value } : value;\n    }\n    else {\n      const { field, operator, operand, value } = rule;\n      const useAsOperand = value || operand || '';\n\n      this.field = field;\n      this.operator = operator;\n      this.operand = operator.includes('~') ? { is_regex: true, value: useAsOperand } : useAsOperand;\n    }\n  }\n};\n"]}